import{_ as O,a as P,b as Z,c as K,d as j}from"./DZQxSG_3.js";import{c as G,a as J,_ as Q,b as X}from"./CR-5Im-Y.js";import{_ as Y,a as h}from"./DvE082xL.js";import{d as ee,v as te,af as le,N as y,M as ae,c as A,a as n,i as V,n as B,e as t,w as l,K as $,u as r,o as s,f as o,F as U,x as R,t as _,g as oe}from"./8QiH33WF.js";import{_ as ne}from"./BEzkJeOG.js";import{_ as ue}from"./BET4E6RN.js";import{u as re}from"./BJlwRGmy.js";const se={class:"container mx-auto px-6 pb-12"},de={class:"flex flex-wrap items-end gap-4 mb-4 text-foreground"},Se=ee({__name:"schedule",setup(_e){const S=te(),W=le(),i=y(S.query.region||"US_EAST"),f=y(String(S.query.level||"1")),d=y(String(S.query.week||"1")),m=y(String(S.query.teamSize||"4"));ae([i,f,d,m],()=>{W.replace({query:{region:i.value,level:String(f.value),week:String(d.value),teamSize:String(m.value)}}),L()});const{data:q,pending:E,error:N,refresh:L}=re("schedule",async()=>{const T=new URLSearchParams({region:i.value,level:String(f.value),teamSize:String(m.value)});return d.value&&T.set("week",String(d.value)),await $fetch(`/api/league/schedule?${T.toString()}`)});return(T,e)=>{const x=Z,c=P,u=j,k=K,w=O,g=h,C=J,z=Y,b=X,D=oe,H=ne,I=Q,M=G,F=ue;return s(),A("div",null,[e[24]||(e[24]=n("section",{class:"bg-gradient-to-b from-background to-transparent pb-4 pt-24"},[n("div",{class:"container mx-auto px-6"},[n("h1",{class:"text-3xl font-bold tracking-tight"},"Schedule"),n("p",{class:"text-muted-foreground mt-2"},"Filter by region, division and week.")])],-1)),n("div",se,[n("div",de,[n("div",null,[e[11]||(e[11]=n("label",{class:"block text-xs text-muted-foreground mb-1"},"Region",-1)),t(w,{modelValue:r(i),"onUpdate:modelValue":e[0]||(e[0]=a=>$(i)?i.value=a:null)},{default:l(()=>[t(c,{class:"w-56 bg-background text-foreground"},{default:l(()=>[t(x,{placeholder:"Region"})]),_:1}),t(k,{class:"bg-background text-foreground border border-border"},{default:l(()=>[t(u,{value:"US_EAST"},{default:l(()=>e[4]||(e[4]=[o("US East")])),_:1,__:[4]}),t(u,{value:"US_WEST"},{default:l(()=>e[5]||(e[5]=[o("US West")])),_:1,__:[5]}),t(u,{value:"EUROPE"},{default:l(()=>e[6]||(e[6]=[o("Europe")])),_:1,__:[6]}),t(u,{value:"ASIA"},{default:l(()=>e[7]||(e[7]=[o("Asia")])),_:1,__:[7]}),t(u,{value:"AU_NZ"},{default:l(()=>e[8]||(e[8]=[o("Australia / New Zealand")])),_:1,__:[8]}),t(u,{value:"SOUTH_AMERICA"},{default:l(()=>e[9]||(e[9]=[o("South America")])),_:1,__:[9]}),t(u,{value:"AFRICA"},{default:l(()=>e[10]||(e[10]=[o("Africa")])),_:1,__:[10]})]),_:1})]),_:1},8,["modelValue"])]),n("div",null,[e[12]||(e[12]=n("label",{class:"block text-xs text-muted-foreground mb-1"},"Division",-1)),t(w,{modelValue:r(f),"onUpdate:modelValue":e[1]||(e[1]=a=>$(f)?f.value=a:null)},{default:l(()=>[t(c,{class:"w-32 bg-background text-foreground"},{default:l(()=>[t(x,{placeholder:"Division"})]),_:1}),t(k,{class:"bg-background text-foreground border border-border"},{default:l(()=>[(s(),A(U,null,R(6,a=>t(u,{key:a,value:String(a)},{default:l(()=>[o("Div "+_(a),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),n("div",null,[e[15]||(e[15]=n("label",{class:"block text-xs text-muted-foreground mb-1"},"Format",-1)),t(w,{modelValue:r(m),"onUpdate:modelValue":e[2]||(e[2]=a=>$(m)?m.value=a:null)},{default:l(()=>[t(c,{class:"w-32 bg-background text-foreground"},{default:l(()=>[t(x,{placeholder:"Format"})]),_:1}),t(k,{class:"bg-background text-foreground border border-border"},{default:l(()=>[t(u,{value:"4"},{default:l(()=>e[13]||(e[13]=[o("4v4")])),_:1,__:[13]}),t(u,{value:"2"},{default:l(()=>e[14]||(e[14]=[o("2v2")])),_:1,__:[14]})]),_:1})]),_:1},8,["modelValue"])]),n("div",null,[e[16]||(e[16]=n("label",{class:"block text-xs text-muted-foreground mb-1"},"Week",-1)),t(w,{modelValue:r(d),"onUpdate:modelValue":e[3]||(e[3]=a=>$(d)?d.value=a:null)},{default:l(()=>[t(c,{class:"w-24 bg-background text-foreground"},{default:l(()=>[t(x,{placeholder:"Week"})]),_:1}),t(k,{class:"bg-background text-foreground border border-border"},{default:l(()=>[(s(),A(U,null,R(8,a=>t(u,{key:a,value:String(a)},{default:l(()=>[o("Week "+_(a),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])])]),!r(E)&&!r(N)?(s(),V(M,{key:0},{default:l(()=>[t(z,null,{default:l(()=>[t(C,null,{default:l(()=>[t(g,null,{default:l(()=>e[17]||(e[17]=[o("Week")])),_:1,__:[17]}),t(g,null,{default:l(()=>e[18]||(e[18]=[o("Date")])),_:1,__:[18]}),t(g,null,{default:l(()=>e[19]||(e[19]=[o("Home")])),_:1,__:[19]}),t(g,null,{default:l(()=>e[20]||(e[20]=[o("Away")])),_:1,__:[20]}),t(g,null,{default:l(()=>e[21]||(e[21]=[o("Status")])),_:1,__:[21]})]),_:1})]),_:1}),t(I,null,{default:l(()=>[(s(!0),A(U,null,R(r(q)||[],a=>(s(),V(C,{key:a.id,class:"odd:bg-background even:bg-muted/50"},{default:l(()=>[t(b,null,{default:l(()=>[o(_(a.weekNumber),1)]),_:2},1024),t(b,null,{default:l(()=>[o(_(new Date(a.scheduledAt).toLocaleString()),1)]),_:2},1024),t(b,null,{default:l(()=>{var p;return[t(D,{class:"hover:underline",to:`/teams/${(p=a.homeTeam)==null?void 0:p.id}`},{default:l(()=>{var v;return[o(_((v=a.homeTeam)==null?void 0:v.name),1)]}),_:2},1032,["to"])]}),_:2},1024),t(b,null,{default:l(()=>{var p;return[t(D,{class:"hover:underline",to:`/teams/${(p=a.awayTeam)==null?void 0:p.id}`},{default:l(()=>{var v;return[o(_((v=a.awayTeam)==null?void 0:v.name),1)]}),_:2},1032,["to"])]}),_:2},1024),t(b,null,{default:l(()=>[t(H,{variant:"secondary"},{default:l(()=>[o(_(a.status),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):B("",!0),r(E)?(s(),V(F,{key:1},{default:l(()=>e[22]||(e[22]=[o("Loading...")])),_:1,__:[22]})):r(N)?(s(),V(F,{key:2,variant:"destructive"},{default:l(()=>e[23]||(e[23]=[o("Failed to load schedule")])),_:1,__:[23]})):B("",!0)])])}}});export{Se as default};
