import{h as Ge}from"./CXFSimRl.js";import{u as te}from"./DJFGLJu-.js";import{at as re,L as We,aK as ne,am as $e,aL as He,K as Fe}from"./Di62MCsn.js";function Ye(e){return{}}class Qe{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,r){this.keyToValue.set(t,r),this.valueToKey.set(r,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class ye{constructor(t){this.generateIdentifier=t,this.kv=new Qe}register(t,r){this.kv.getByValue(t)||(r||(r=this.generateIdentifier(t)),this.kv.set(r,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}}class Je extends ye{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,r){typeof r=="object"?(r.allowProps&&this.classToAllowedProps.set(t,r.allowProps),super.register(t,r.identifier)):super.register(t,r)}getAllowedProps(t){return this.classToAllowedProps.get(t)}}function Xe(e){if("values"in Object)return Object.values(e);const t=[];for(const r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}function Ze(e,t){const r=Xe(e);if("find"in r)return r.find(t);const n=r;for(let o=0;o<n.length;o++){const s=n[o];if(t(s))return s}}function T(e,t){Object.entries(e).forEach(([r,n])=>t(n,r))}function z(e,t){return e.indexOf(t)!==-1}function oe(e,t){for(let r=0;r<e.length;r++){const n=e[r];if(t(n))return n}}class et{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return Ze(this.transfomers,r=>r.isApplicable(t))}findByName(t){return this.transfomers[t]}}const tt=e=>Object.prototype.toString.call(e).slice(8,-1),me=e=>typeof e>"u",rt=e=>e===null,R=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,Y=e=>R(e)&&Object.keys(e).length===0,_=e=>Array.isArray(e),nt=e=>typeof e=="string",ot=e=>typeof e=="number"&&!isNaN(e),st=e=>typeof e=="boolean",it=e=>e instanceof RegExp,C=e=>e instanceof Map,N=e=>e instanceof Set,he=e=>tt(e)==="Symbol",at=e=>e instanceof Date&&!isNaN(e.valueOf()),ut=e=>e instanceof Error,se=e=>typeof e=="number"&&isNaN(e),ct=e=>st(e)||rt(e)||me(e)||ot(e)||nt(e)||he(e),lt=e=>typeof e=="bigint",ft=e=>e===1/0||e===-1/0,pt=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),dt=e=>e instanceof URL,ve=e=>e.replace(/\./g,"\\."),$=e=>e.map(String).map(ve).join("."),A=e=>{const t=[];let r="";for(let o=0;o<e.length;o++){let s=e.charAt(o);if(s==="\\"&&e.charAt(o+1)==="."){r+=".",o++;continue}if(s==="."){t.push(r),r="";continue}r+=s}const n=r;return t.push(n),t};function x(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}const be=[x(me,"undefined",()=>null,()=>{}),x(lt,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),x(at,"Date",e=>e.toISOString(),e=>new Date(e)),x(ut,"Error",(e,t)=>{const r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(n=>{r[n]=e[n]}),r},(e,t)=>{const r=new Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(n=>{r[n]=e[n]}),r}),x(it,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),r=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,r)}),x(N,"set",e=>[...e.values()],e=>new Set(e)),x(C,"map",e=>[...e.entries()],e=>new Map(e)),x(e=>se(e)||ft(e),"number",e=>se(e)?"NaN":e>0?"Infinity":"-Infinity",Number),x(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),x(dt,"URL",e=>e.toString(),e=>new URL(e))];function B(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}const ge=B((e,t)=>he(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,r)=>{const n=r.symbolRegistry.getValue(t[1]);if(!n)throw new Error("Trying to deserialize unknown symbol");return n}),yt=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),we=B(pt,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const r=yt[t[1]];if(!r)throw new Error("Trying to deserialize unknown typed array");return new r(e)});function xe(e,t){return e!=null&&e.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}const Pe=B(xe,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return{...e};const n={};return r.forEach(o=>{n[o]=e[o]}),n},(e,t,r)=>{const n=r.classRegistry.getValue(t[1]);if(!n)throw new Error(`Trying to deserialize unknown class '${t[1]}' - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564`);return Object.assign(Object.create(n.prototype),e)}),Oe=B((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,r)=>{const n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw new Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),mt=[Pe,ge,Oe,we],ie=(e,t)=>{const r=oe(mt,o=>o.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};const n=oe(be,o=>o.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation}},_e={};be.forEach(e=>{_e[e.annotation]=e});const ht=(e,t,r)=>{if(_(t))switch(t[0]){case"symbol":return ge.untransform(e,t,r);case"class":return Pe.untransform(e,t,r);case"custom":return Oe.untransform(e,t,r);case"typed-array":return we.untransform(e,t,r);default:throw new Error("Unknown transformation: "+t)}else{const n=_e[t];if(!n)throw new Error("Unknown transformation: "+t);return n.untransform(e,r)}},I=(e,t)=>{if(t>e.size)throw new Error("index out of bounds");const r=e.keys();for(;t>0;)r.next(),t--;return r.next().value};function je(e){if(z(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(z(e,"prototype"))throw new Error("prototype is not allowed as a property");if(z(e,"constructor"))throw new Error("constructor is not allowed as a property")}const vt=(e,t)=>{je(t);for(let r=0;r<t.length;r++){const n=t[r];if(N(e))e=I(e,+n);else if(C(e)){const o=+n,s=+t[++r]==0?"key":"value",i=I(e,o);switch(s){case"key":e=i;break;case"value":e=e.get(i);break}}else e=e[n]}return e},Q=(e,t,r)=>{if(je(t),t.length===0)return r(e);let n=e;for(let s=0;s<t.length-1;s++){const i=t[s];if(_(n)){const a=+i;n=n[a]}else if(R(n))n=n[i];else if(N(n)){const a=+i;n=I(n,a)}else if(C(n)){if(s===t.length-2)break;const u=+i,c=+t[++s]==0?"key":"value",y=I(n,u);switch(c){case"key":n=y;break;case"value":n=n.get(y);break}}}const o=t[t.length-1];if(_(n)?n[+o]=r(n[+o]):R(n)&&(n[o]=r(n[o])),N(n)){const s=I(n,+o),i=r(s);s!==i&&(n.delete(s),n.add(i))}if(C(n)){const s=+t[t.length-2],i=I(n,s);switch(+o==0?"key":"value"){case"key":{const u=r(i);n.set(u,n.get(i)),u!==i&&n.delete(i);break}case"value":{n.set(i,r(n.get(i)));break}}}return e};function J(e,t,r=[]){if(!e)return;if(!_(e)){T(e,(s,i)=>J(s,t,[...r,...A(i)]));return}const[n,o]=e;o&&T(o,(s,i)=>{J(s,t,[...r,...A(i)])}),t(n,r)}function bt(e,t,r){return J(t,(n,o)=>{e=Q(e,o,s=>ht(s,n,r))}),e}function gt(e,t){function r(n,o){const s=vt(e,A(o));n.map(A).forEach(i=>{e=Q(e,i,()=>s)})}if(_(t)){const[n,o]=t;n.forEach(s=>{e=Q(e,A(s),()=>e)}),o&&T(o,r)}else T(t,r);return e}const wt=(e,t)=>R(e)||_(e)||C(e)||N(e)||xe(e,t);function xt(e,t,r){const n=r.get(e);n?n.push(t):r.set(e,[t])}function Pt(e,t){const r={};let n;return e.forEach(o=>{if(o.length<=1)return;t||(o=o.map(a=>a.map(String)).sort((a,u)=>a.length-u.length));const[s,...i]=o;s.length===0?n=i.map($):r[$(s)]=i.map($)}),n?Y(r)?[n]:[n,r]:Y(r)?void 0:r}const Ee=(e,t,r,n,o=[],s=[],i=new Map)=>{const a=ct(e);if(!a){xt(e,o,t);const f=i.get(e);if(f)return n?{transformedValue:null}:f}if(!wt(e,r)){const f=ie(e,r),h=f?{transformedValue:f.value,annotations:[f.type]}:{transformedValue:e};return a||i.set(e,h),h}if(z(s,e))return{transformedValue:null};const u=ie(e,r),c=(u==null?void 0:u.value)??e,y=_(c)?[]:{},l={};T(c,(f,h)=>{if(h==="__proto__"||h==="constructor"||h==="prototype")throw new Error(`Detected property ${h}. This is a prototype pollution risk, please remove it from your object.`);const p=Ee(f,t,r,n,[...o,h],[...s,e],i);y[h]=p.transformedValue,_(p.annotations)?l[h]=p.annotations:R(p.annotations)&&T(p.annotations,(b,O)=>{l[ve(h)+"."+O]=b})});const d=Y(l)?{transformedValue:y,annotations:u?[u.type]:void 0}:{transformedValue:y,annotations:u?[u.type,l]:l};return a||i.set(e,d),d};function Se(e){return Object.prototype.toString.call(e).slice(8,-1)}function ae(e){return Se(e)==="Array"}function Ot(e){if(Se(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function _t(e,t,r,n,o){const s={}.propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";s==="enumerable"&&(e[t]=r),o&&s==="nonenumerable"&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}function X(e,t={}){if(ae(e))return e.map(o=>X(o,t));if(!Ot(e))return e;const r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertySymbols(e);return[...r,...n].reduce((o,s)=>{if(ae(t.props)&&!t.props.includes(s))return o;const i=e[s],a=X(i,t);return _t(o,s,a,e,t.nonenumerable),o},{})}class m{constructor({dedupe:t=!1}={}){this.classRegistry=new Je,this.symbolRegistry=new ye(r=>r.description??""),this.customTransformerRegistry=new et,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const r=new Map,n=Ee(t,r,this,this.dedupe),o={json:n.transformedValue};n.annotations&&(o.meta={...o.meta,values:n.annotations});const s=Pt(r,this.dedupe);return s&&(o.meta={...o.meta,referentialEqualities:s}),o}deserialize(t){const{json:r,meta:n}=t;let o=X(r);return n!=null&&n.values&&(o=bt(o,n.values,this)),n!=null&&n.referentialEqualities&&(o=gt(o,n.referentialEqualities)),o}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,r){this.classRegistry.register(t,r)}registerSymbol(t,r){this.symbolRegistry.register(t,r)}registerCustom(t,r){this.customTransformerRegistry.register({name:r,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}}m.defaultInstance=new m;m.serialize=m.defaultInstance.serialize.bind(m.defaultInstance);m.deserialize=m.defaultInstance.deserialize.bind(m.defaultInstance);m.stringify=m.defaultInstance.stringify.bind(m.defaultInstance);m.parse=m.defaultInstance.parse.bind(m.defaultInstance);m.registerClass=m.defaultInstance.registerClass.bind(m.defaultInstance);m.registerSymbol=m.defaultInstance.registerSymbol.bind(m.defaultInstance);m.registerCustom=m.defaultInstance.registerCustom.bind(m.defaultInstance);m.allowErrorProps=m.defaultInstance.allowErrorProps.bind(m.defaultInstance);m.serialize;m.deserialize;m.stringify;m.parse;m.registerClass;m.registerCustom;m.registerSymbol;m.allowErrorProps;const jt="/api/trpc";var Et=Object.create,Ie=Object.defineProperty,St=Object.getOwnPropertyDescriptor,Te=Object.getOwnPropertyNames,It=Object.getPrototypeOf,Tt=Object.prototype.hasOwnProperty,P=(e,t)=>function(){return t||(0,e[Te(e)[0]])((t={exports:{}}).exports,t),t.exports},At=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(var o=Te(t),s=0,i=o.length,a;s<i;s++)a=o[s],!Tt.call(e,a)&&a!==r&&Ie(e,a,{get:(u=>t[u]).bind(null,a),enumerable:!(n=St(t,a))||n.enumerable});return e},v=(e,t,r)=>(r=e!=null?Et(It(e)):{},At(Ie(r,"default",{value:e,enumerable:!0}),e)),Ae=P({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(n){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t.exports.__esModule=!0,t.exports.default=t.exports,r(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),kt=P({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=Ae().default;function n(o,s){if(r(o)!="object"||!o)return o;var i=o[Symbol.toPrimitive];if(i!==void 0){var a=i.call(o,s||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),Rt=P({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=Ae().default,n=kt();function o(s){var i=n(s,"string");return r(i)=="symbol"?i:i+""}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),E=P({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=Rt();function n(o,s,i){return(s=r(s))in o?Object.defineProperty(o,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[s]=i,o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),w=P({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=E();function n(s,i){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);i&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,u)}return a}function o(s){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?n(Object(a),!0).forEach(function(u){r(s,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(u){Object.defineProperty(s,u,Object.getOwnPropertyDescriptor(a,u))})}return s}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}});function G(e){const t={subscribe(r){let n=null,o=!1,s=!1,i=!1;function a(){if(n===null){i=!0;return}s||(s=!0,typeof n=="function"?n():n&&n.unsubscribe())}return n=e({next(u){var c;o||(c=r.next)===null||c===void 0||c.call(r,u)},error(u){var c;o||(o=!0,(c=r.error)===null||c===void 0||c.call(r,u),a())},complete(){var u;o||(o=!0,(u=r.complete)===null||u===void 0||u.call(r),a())}}),i&&a(),{unsubscribe:a}},pipe(...r){return r.reduce(Ct,t)}};return t}function Ct(e,t){return t(e)}function Nt(e){const t=new AbortController;return new Promise((n,o)=>{let s=!1;function i(){s||(s=!0,a.unsubscribe())}t.signal.addEventListener("abort",()=>{o(t.signal.reason)});const a=e.subscribe({next(u){s=!0,n(u),i()},error(u){o(u)},complete(){t.abort(),i()}})})}function qt(e){return t=>{let r=0,n=null;const o=[];function s(){n||(n=t.subscribe({next(a){for(const c of o){var u;(u=c.next)===null||u===void 0||u.call(c,a)}},error(a){for(const c of o){var u;(u=c.error)===null||u===void 0||u.call(c,a)}},complete(){for(const u of o){var a;(a=u.complete)===null||a===void 0||a.call(u)}}}))}function i(){if(r===0&&n){const a=n;n=null,a.unsubscribe()}}return G(a=>(r++,o.push(a),s(),{unsubscribe(){r--,i();const u=o.findIndex(c=>c===a);u>-1&&o.splice(u,1)}}))}}function Dt(e){let t=e;const r=[],n=i=>{t!==void 0&&i.next(t),r.push(i)},o=i=>{r.splice(r.indexOf(i),1)},s=G(i=>(n(i),()=>{o(i)}));return s.next=i=>{if(t!==i){t=i;for(const a of r)a.next(i)}},s.get=()=>t,s}function Mt(e){return G(t=>{function r(o=0,s=e.op){const i=e.links[o];if(!i)throw new Error("No more links to execute - did you forget to add an ending link?");return i({op:s,next(u){return r(o+1,u)}})}return r().subscribe(t)})}function q(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}var Lt=Object.create,ke=Object.defineProperty,Kt=Object.getOwnPropertyDescriptor,Re=Object.getOwnPropertyNames,zt=Object.getPrototypeOf,Vt=Object.prototype.hasOwnProperty,D=(e,t)=>function(){return t||(0,e[Re(e)[0]])((t={exports:{}}).exports,t),t.exports},Ut=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(var o=Re(t),s=0,i=o.length,a;s<i;s++)a=o[s],!Vt.call(e,a)&&a!==r&&ke(e,a,{get:(u=>t[u]).bind(null,a),enumerable:!(n=Kt(t,a))||n.enumerable});return e},W=(e,t,r)=>(r=e!=null?Lt(zt(e)):{},Ut(ke(r,"default",{value:e,enumerable:!0}),e));const Ce=()=>{},ue=e=>{Object.freeze&&Object.freeze(e)};function Ne(e,t,r){var n;const o=t.join(".");return(n=r[o])!==null&&n!==void 0||(r[o]=new Proxy(Ce,{get(s,i){if(!(typeof i!="string"||i==="then"))return Ne(e,[...t,i],r)},apply(s,i,a){const u=t[t.length-1];let c={args:a,path:t};return u==="call"?c={args:a.length>=2?[a[1]]:[],path:t.slice(0,-1)}:u==="apply"&&(c={args:a.length>=2?a[1]:[],path:t.slice(0,-1)}),ue(c.args),ue(c.path),e(c)}})),r[o]}const qe=e=>Ne(e,[],Object.create(null)),De=e=>new Proxy(Ce,{get(t,r){if(r!=="then")return e(r)}});var Me=D({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/typeof.js"(e,t){function r(n){"@babel/helpers - typeof";return t.exports=r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t.exports.__esModule=!0,t.exports.default=t.exports,r(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Bt=D({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPrimitive.js"(e,t){var r=Me().default;function n(o,s){if(r(o)!="object"||!o)return o;var i=o[Symbol.toPrimitive];if(i!==void 0){var a=i.call(o,s||"default");if(r(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),Gt=D({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/toPropertyKey.js"(e,t){var r=Me().default,n=Bt();function o(s){var i=n(s,"string");return r(i)=="symbol"?i:i+""}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}}),Le=D({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/defineProperty.js"(e,t){var r=Gt();function n(o,s,i){return(s=r(s))in o?Object.defineProperty(o,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[s]=i,o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),ee=D({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/objectSpread2.js"(e,t){var r=Le();function n(s,i){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(s);i&&(u=u.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,u)}return a}function o(s){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?n(Object(a),!0).forEach(function(u){r(s,u,a[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(u){Object.defineProperty(s,u,Object.getOwnPropertyDescriptor(a,u))})}return s}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports}});W(ee());W(Le());var M=W(ee());function Wt(e,t){if("error"in e){const n=t.deserialize(e.error);return{ok:!1,error:(0,M.default)((0,M.default)({},e),{},{error:n})}}return{ok:!0,result:(0,M.default)((0,M.default)({},e.result),(!e.result.type||e.result.type==="data")&&{type:"data",data:t.deserialize(e.result.data)})}}var H=class extends Error{constructor(){super("Unable to transform response from server")}};function $t(e,t){let r;try{r=Wt(e,t)}catch{throw new H}if(!r.ok&&(!q(r.error.error)||typeof r.error.error.code!="number"))throw new H;if(r.ok&&!q(r.result))throw new H;return r}W(ee());var L=v(E()),S=v(w());function Ht(e){return e instanceof U}function Ft(e){return q(e)&&q(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}function Yt(e,t){return typeof e=="string"?e:q(e)&&typeof e.message=="string"?e.message:t}var U=class V extends Error{constructor(t,r){var n,o;const s=r==null?void 0:r.cause;super(t,{cause:s}),(0,L.default)(this,"cause",void 0),(0,L.default)(this,"shape",void 0),(0,L.default)(this,"data",void 0),(0,L.default)(this,"meta",void 0),this.meta=r==null?void 0:r.meta,this.cause=s,this.shape=r==null||(n=r.result)===null||n===void 0?void 0:n.error,this.data=r==null||(o=r.result)===null||o===void 0?void 0:o.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,V.prototype)}static from(t,r={}){const n=t;return Ht(n)?(r.meta&&(n.meta=(0,S.default)((0,S.default)({},n.meta),r.meta)),n):Ft(n)?new V(n.error.message,(0,S.default)((0,S.default)({},r),{},{result:n})):new V(Yt(n,"Unknown error"),(0,S.default)((0,S.default)({},r),{},{cause:n}))}};function Qt(e){const t=e;return t?"input"in t?t:{input:t,output:t}:{input:{serialize:r=>r,deserialize:r=>r},output:{serialize:r=>r,deserialize:r=>r}}}const ce=e=>typeof e=="function";function Jt(e){if(e)return e;if(typeof window<"u"&&ce(window.fetch))return window.fetch;if(typeof globalThis<"u"&&ce(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}var k=v(w());function Xt(e){return{url:e.url.toString(),fetch:e.fetch,transformer:Qt(e.transformer),methodOverride:e.methodOverride}}function Zt(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[r]=n}return t}const er={query:"GET",mutation:"POST",subscription:"PATCH"};function Ke(e){return"input"in e?e.transformer.input.serialize(e.input):Zt(e.inputs.map(t=>e.transformer.input.serialize(t)))}const ze=e=>{const t=e.url.split("?");let n=t[0].replace(/\/$/,"")+"/"+e.path;const o=[];if(t[1]&&o.push(t[1]),"inputs"in e&&o.push("batch=1"),e.type==="query"||e.type==="subscription"){const s=Ke(e);s!==void 0&&e.methodOverride!=="POST"&&o.push(`input=${encodeURIComponent(JSON.stringify(s))}`)}return o.length&&(n+="?"+o.join("&")),n},tr=e=>{if(e.type==="query"&&e.methodOverride!=="POST")return;const t=Ke(e);return t!==void 0?JSON.stringify(t):void 0},rr=e=>ir((0,k.default)((0,k.default)({},e),{},{contentTypeHeader:"application/json",getUrl:ze,getBody:tr}));var nr=class extends Error{constructor(){const e="AbortError";super(e),this.name=e,this.message=e}};const or=e=>{var t;if(e!=null&&e.aborted)throw(t=e.throwIfAborted)===null||t===void 0||t.call(e),typeof DOMException<"u"?new DOMException("AbortError","AbortError"):new nr};async function sr(e){var t;or(e.signal);const r=e.getUrl(e),n=e.getBody(e),{type:o}=e,s=await(async()=>{const a=await e.headers();return Symbol.iterator in a?Object.fromEntries(a):a})(),i=(0,k.default)((0,k.default)((0,k.default)({},e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{}),e.trpcAcceptHeader?{"trpc-accept":e.trpcAcceptHeader}:void 0),s);return Jt(e.fetch)(r,{method:(t=e.methodOverride)!==null&&t!==void 0?t:er[o],signal:e.signal,body:n,headers:i})}async function ir(e){const t={},r=await sr(e);t.response=r;const n=await r.json();return t.responseJSON=n,{json:n,meta:t}}v(w());const le=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function fe(e){let t=null,r=null;const n=()=>{clearTimeout(r),r=null,t=null};function o(a){const u=[[]];let c=0;for(;;){const d=a[c];if(!d)break;const f=u[u.length-1];if(d.aborted){var y;(y=d.reject)===null||y===void 0||y.call(d,new Error("Aborted")),c++;continue}if(e.validate(f.concat(d).map(p=>p.key))){f.push(d),c++;continue}if(f.length===0){var l;(l=d.reject)===null||l===void 0||l.call(d,new Error("Input is too big for a single dispatch")),c++;continue}u.push([])}return u}function s(){const a=o(t);n();for(const u of a){if(!u.length)continue;const c={items:u};for(const l of u)l.batch=c;e.fetch(c.items.map(l=>l.key)).then(async l=>{await Promise.all(l.map(async(f,h)=>{const p=c.items[h];try{var b;const g=await Promise.resolve(f);(b=p.resolve)===null||b===void 0||b.call(p,g)}catch(g){var O;(O=p.reject)===null||O===void 0||O.call(p,g)}p.batch=null,p.reject=null,p.resolve=null}));for(const f of c.items){var d;(d=f.reject)===null||d===void 0||d.call(f,new Error("Missing result")),f.batch=null}}).catch(l=>{for(const f of c.items){var d;(d=f.reject)===null||d===void 0||d.call(f,l),f.batch=null}})}}function i(a){var u;const c={aborted:!1,key:a,batch:null,resolve:le,reject:le},y=new Promise((l,d)=>{var f;c.reject=d,c.resolve=l,(f=t)!==null&&f!==void 0||(t=[]),t.push(c)});return(u=r)!==null&&u!==void 0||(r=setTimeout(s)),y}return{load:i}}function ar(...e){const t=new AbortController,r=e.length;let n=0;const o=()=>{++n===r&&t.abort()};for(const s of e)s!=null&&s.aborted?o():s==null||s.addEventListener("abort",o,{once:!0});return t.signal}var K=v(w());function ur(e){var t,r;const n=Xt(e),o=(t=e.maxURLLength)!==null&&t!==void 0?t:1/0,s=(r=e.maxItems)!==null&&r!==void 0?r:1/0;return()=>{const i=y=>({validate(l){if(o===1/0&&s===1/0)return!0;if(l.length>s)return!1;const d=l.map(p=>p.path).join(","),f=l.map(p=>p.input);return ze((0,K.default)((0,K.default)({},n),{},{type:y,path:d,inputs:f,signal:null})).length<=o},async fetch(l){const d=l.map(g=>g.path).join(","),f=l.map(g=>g.input),h=ar(...l.map(g=>g.signal)),p=await rr((0,K.default)((0,K.default)({},n),{},{path:d,inputs:f,type:y,headers(){return e.headers?typeof e.headers=="function"?e.headers({opList:l}):e.headers:{}},signal:h}));return(Array.isArray(p.json)?p.json:l.map(()=>p.json)).map(g=>({meta:p.meta,json:g}))}}),a=fe(i("query")),u=fe(i("mutation")),c={query:a,mutation:u};return({op:y})=>G(l=>{/* istanbul ignore if -- @preserve */if(y.type==="subscription")throw new Error("Subscriptions are unsupported by `httpLink` - use `httpSubscriptionLink` or `wsLink`");const f=c[y.type].load(y);let h;return f.then(p=>{h=p;const b=$t(p.json,n.transformer.output);if(!b.ok){l.error(U.from(b.error,{meta:p.meta}));return}l.next({context:p.meta,result:b.result}),l.complete()}).catch(p=>{l.error(U.from(p,{meta:h==null?void 0:h.meta}))}),()=>{}})}}v(w());const Ve=(e,...t)=>typeof e=="function"?e(...t):e;v(E());function cr(){let e,t;return{promise:new Promise((n,o)=>{e=n,t=o}),resolve:e,reject:t}}async function lr(e){const t=await Ve(e.url);if(!e.connectionParams)return t;const n=`${t.includes("?")?"&":"?"}connectionParams=1`;return t+n}async function fr(e){const t={method:"connectionParams",data:await Ve(e)};return JSON.stringify(t)}v(E());var j=v(E());function pr(e){const{promise:t,resolve:r,reject:n}=cr();return e.addEventListener("open",()=>{e.removeEventListener("error",n),r()}),e.addEventListener("error",n),t}function dr(e,{intervalMs:t,pongTimeoutMs:r}){let n,o;function s(){n=setTimeout(()=>{e.send("PING"),o=setTimeout(()=>{e.close()},r)},t)}function i(){clearTimeout(n),s()}function a(){clearTimeout(o),i()}e.addEventListener("open",s),e.addEventListener("message",({data:u})=>{clearTimeout(n),s(),u==="PONG"&&a()}),e.addEventListener("close",()=>{clearTimeout(n),clearTimeout(o)})}var yr=class Z{constructor(t){var r;if((0,j.default)(this,"id",++Z.connectCount),(0,j.default)(this,"WebSocketPonyfill",void 0),(0,j.default)(this,"urlOptions",void 0),(0,j.default)(this,"keepAliveOpts",void 0),(0,j.default)(this,"wsObservable",Dt(null)),(0,j.default)(this,"openPromise",null),this.WebSocketPonyfill=(r=t.WebSocketPonyfill)!==null&&r!==void 0?r:WebSocket,!this.WebSocketPonyfill)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");this.urlOptions=t.urlOptions,this.keepAliveOpts=t.keepAlive}get ws(){return this.wsObservable.get()}set ws(t){this.wsObservable.next(t)}isOpen(){return!!this.ws&&this.ws.readyState===this.WebSocketPonyfill.OPEN&&!this.openPromise}isClosed(){return!!this.ws&&(this.ws.readyState===this.WebSocketPonyfill.CLOSING||this.ws.readyState===this.WebSocketPonyfill.CLOSED)}async open(){var t=this;if(t.openPromise)return t.openPromise;t.id=++Z.connectCount;const r=lr(t.urlOptions).then(n=>new t.WebSocketPonyfill(n));t.openPromise=r.then(async n=>{t.ws=n,n.addEventListener("message",function({data:o}){o==="PING"&&this.send("PONG")}),t.keepAliveOpts.enabled&&dr(n,t.keepAliveOpts),n.addEventListener("close",()=>{t.ws===n&&(t.ws=null)}),await pr(n),t.urlOptions.connectionParams&&n.send(await fr(t.urlOptions.connectionParams))});try{await t.openPromise}finally{t.openPromise=null}}async close(){var t=this;try{await t.openPromise}finally{var r;(r=t.ws)===null||r===void 0||r.close()}}};(0,j.default)(yr,"connectCount",0);v(E());v(w());var F=v(E()),pe=v(w()),mr=class{constructor(e){(0,F.default)(this,"links",void 0),(0,F.default)(this,"runtime",void 0),(0,F.default)(this,"requestId",void 0),this.requestId=0,this.runtime={},this.links=e.links.map(t=>t(this.runtime))}$request(e){var t;return Mt({links:this.links,op:(0,pe.default)((0,pe.default)({},e),{},{context:(t=e.context)!==null&&t!==void 0?t:{},id:++this.requestId})}).pipe(qt())}async requestAsPromise(e){var t=this;try{const r=t.$request(e);return(await Nt(r)).result.data}catch(r){throw U.from(r)}}query(e,t,r){return this.requestAsPromise({type:"query",path:e,input:t,context:r==null?void 0:r.context,signal:r==null?void 0:r.signal})}mutation(e,t,r){return this.requestAsPromise({type:"mutation",path:e,input:t,context:r==null?void 0:r.context,signal:r==null?void 0:r.signal})}subscription(e,t,r){return this.$request({type:"subscription",path:e,input:t,context:r.context,signal:r.signal}).subscribe({next(o){switch(o.result.type){case"state":{var s;(s=r.onConnectionStateChange)===null||s===void 0||s.call(r,o.result);break}case"started":{var i;(i=r.onStarted)===null||i===void 0||i.call(r,{context:o.context});break}case"stopped":{var a;(a=r.onStopped)===null||a===void 0||a.call(r);break}case"data":case void 0:{var u;(u=r.onData)===null||u===void 0||u.call(r,o.result.data);break}}},error(o){var s;(s=r.onError)===null||s===void 0||s.call(r,o)},complete(){var o;(o=r.onComplete)===null||o===void 0||o.call(r)}})}};function hr(e){return new mr(e)}const vr=Symbol.for("trpc_untypedClient"),br={query:"query",mutate:"mutation",subscribe:"subscription"},gr=e=>br[e];function wr(e){const t=qe(({path:r,args:n})=>{const o=[...r],s=gr(o.pop()),i=o.join(".");return e[s](i,...n)});return De(r=>r===vr?e:t[r])}v(w());v(w());var xr=P({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/asyncIterator.js"(e,t){function r(o){var s,i,a,u=2;for(typeof Symbol<"u"&&(i=Symbol.asyncIterator,a=Symbol.iterator);u--;){if(i&&(s=o[i])!=null)return s.call(o);if(a&&(s=o[a])!=null)return new n(s.call(o));i="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function n(o){function s(i){if(Object(i)!==i)return Promise.reject(new TypeError(i+" is not an object."));var a=i.done;return Promise.resolve(i.value).then(function(u){return{value:u,done:a}})}return n=function(a){this.s=a,this.n=a.next},n.prototype={s:null,n:null,next:function(){return s(this.n.apply(this.s,arguments))},return:function(a){var u=this.s.return;return u===void 0?Promise.resolve({value:a,done:!0}):s(u.apply(this.s,arguments))},throw:function(a){var u=this.s.return;return u===void 0?Promise.reject(a):s(u.apply(this.s,arguments))}},new n(o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}});v(xr());v(w());var Pr=P({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/usingCtx.js"(e,t){function r(){var n=typeof SuppressedError=="function"?SuppressedError:function(a,u){var c=Error();return c.name="SuppressedError",c.error=a,c.suppressed=u,c},o={},s=[];function i(a,u){if(u!=null){if(Object(u)!==u)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(a)var c=u[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(c===void 0&&(c=u[Symbol.dispose||Symbol.for("Symbol.dispose")],a))var y=c;if(typeof c!="function")throw new TypeError("Object is not disposable.");y&&(c=function(){try{y.call(u)}catch(d){return Promise.reject(d)}}),s.push({v:u,d:c,a})}else a&&s.push({d:u,a});return u}return{e:o,u:i.bind(null,!1),a:i.bind(null,!0),d:function(){var u,c=this.e,y=0;function l(){for(;u=s.pop();)try{if(!u.a&&y===1)return y=0,s.push(u),Promise.resolve().then(l);if(u.d){var f=u.d.call(u.v);if(u.a)return y|=2,Promise.resolve(f).then(l,d)}else y|=1}catch(h){return d(h)}if(y===1)return c!==o?Promise.reject(c):Promise.resolve();if(c!==o)throw c}function d(f){return c=c!==o?new n(f,c):f,l()}return l()}}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Ue=P({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/OverloadYield.js"(e,t){function r(n,o){this.v=n,this.k=o}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}}),Or=P({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/awaitAsyncGenerator.js"(e,t){var r=Ue();function n(o){return new r(o,0)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}}),_r=P({"../../node_modules/.pnpm/@oxc-project+runtime@0.72.2/node_modules/@oxc-project/runtime/src/helpers/wrapAsyncGenerator.js"(e,t){var r=Ue();function n(s){return function(){return new o(s.apply(this,arguments))}}function o(s){var i,a;function u(y,l){try{var d=s[y](l),f=d.value,h=f instanceof r;Promise.resolve(h?f.v:f).then(function(p){if(h){var b=y==="return"?"return":"next";if(!f.k||p.done)return u(b,p);p=s[b](p).value}c(d.done?"return":"normal",p)},function(p){u("throw",p)})}catch(p){c("throw",p)}}function c(y,l){switch(y){case"return":i.resolve({value:l,done:!0});break;case"throw":i.reject(l);break;default:i.resolve({value:l,done:!1})}(i=i.next)?u(i.key,i.arg):a=null}this._invoke=function(y,l){return new Promise(function(d,f){var h={key:y,arg:l,resolve:d,reject:f,next:null};a?a=a.next=h:(i=a=h,u(y,l))})},typeof s.return!="function"&&(this.return=void 0)}o.prototype[typeof Symbol=="function"&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(s){return this._invoke("next",s)},o.prototype.throw=function(s){return this._invoke("throw",s)},o.prototype.return=function(s){return this._invoke("return",s)},t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}});v(Pr());v(Or());v(_r());v(w());function Be(e,t){return t===void 0?e:`${e}-${Ge(t||"")}`}function jr(e){return Be(e,void 0)}function Er(e){return Fe(e)||typeof e=="function"}function de(e){let t;return e!=null&&e.abortOnUnmount&&($e()&&He(()=>{var r;(r=t==null?void 0:t.abort)==null||r.call(t)}),t=typeof AbortController<"u"?new AbortController:{}),t}function Sr(e,t){return qe(r=>{const n=r.args,o=[e,...r.path],s=o.pop(),i=o.join("."),[a,u]=n;if(s==="_def")return{path:o};if(s==="useQuery"){const{trpc:c,queryKey:y,...l}=u||{},d=de(c),f=y||Be(i,re(a)),h=Er(a)?[...l.watch||[],a]:l.watch;return te(f,()=>t[i].query(re(a),{signal:d==null?void 0:d.signal,...c}),{...l,watch:h})}if(s==="useMutation"){const{trpc:c,mutationKey:y,...l}=u||{},d=We(null),f=de(c),h=y||jr(i),p=te(h,()=>t[i].mutate(ne(d.value),{signal:f==null?void 0:f.signal,...c}),{...l,lazy:!1,server:!1,immediate:!1});async function b(O){return d.value=O,await p.execute(),ne(p.data.value)}return Object.assign(p,{mutate:b}),p}return t[i][s](...n)})}function Ir(e){const t=hr(e),r=wr(t);return De(o=>Sr(o,r))}function Tr(e){return e instanceof Error&&e.name==="FetchError"}function Ar(e){return async function(r,n){return globalThis.$fetch.create(e??{}).raw(r.toString(),n).catch(o=>{if(Tr(o)&&o.response)return o.response;throw o}).then(o=>({...o,headers:o.headers,json:()=>Promise.resolve(o._data)}))}}function kr(e){const t=Ye();return{url:jt,headers(){return t},fetch:Ar(e.fetchOptions)}}function Rr(e){return ur({...kr({pickHeaders:e==null?void 0:e.pickHeaders,fetchOptions:e==null?void 0:e.fetchOptions}),...e})}const Dr=()=>({apiCaller:Ir({links:[Rr({url:"/api/trpc",transformer:m})]})});export{U as T,Dr as u};
