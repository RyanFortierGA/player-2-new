import{_ as ye}from"./BUkg2l21.js";import{C as v,d as g,i as p,o as i,u as e,bM as ge,H as W,I as J,w as a,G as S,a3 as G,bN as ve,j as D,bO as ke,p as N,E as P,a as h,e as o,bP as be,bQ as we,ac as ee,bR as xe,bS as Me,bT as $e,bU as Ce,aJ as E,R as Q,c as $,x as O,f as x,t as y,F as z,aa as De,K as te,P as oe,m as Se,q as Te,_ as Be,n as C,A,k as Ve,g as ae,bb as ze,v as Ne,y as q,a8 as Re}from"./Di62MCsn.js";import{_ as Pe}from"./BJ7m1Qvh.js";import{C as ne,_ as se,a as re,b as ce,c as le}from"./DDLisVuX.js";import{a as Ue,b as je,_ as Le}from"./CbGp9S1z.js";import{_ as Fe,a as He}from"./CD__X4GM.js";import{_ as Ie}from"./k_VxRW8y.js";import{t as Ae,o as Ge,s as Oe,_ as qe}from"./COzg6gEF.js";import{_ as Ee}from"./rowDaywP.js";import{_ as Ke}from"./N7ypjATh.js";import{_ as We}from"./BCTRTFrT.js";import{u as ie}from"./DT-NqyXP.js";import{u as X}from"./BBmSYT-e.js";import{u as U}from"./CjtIy_jz.js";import{u as de}from"./jjbrCQ32.js";import{_ as Je}from"./GVDJxUYS.js";import{c as Qe}from"./DJFGLJu-.js";import{_ as Xe}from"./IlOwix6B.js";import"./2Efy8mjX.js";import"./FTH3AbiA.js";import"./DFM8vr2N.js";import"./CXFSimRl.js";/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=v("book-text",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=v("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=v("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=v("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=v("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=v("languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=v("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=v("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=v("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=v("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=v("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=v("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=v("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=v("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-vue-next v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=v("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),it=g({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean},as:{}},setup(u){const t=u;return(n,l)=>(i(),p(e(ge),W(J(t)),{default:a(()=>[S(n.$slots,"default")]),_:3},16))}}),Y=g({__name:"DropdownMenuRadioGroup",props:{modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(u,{emit:t}){const s=G(u,t);return(c,r)=>(i(),p(e(ve),W(J(e(s))),{default:a(()=>[S(c.$slots,"default")]),_:3},16))}}),dt={class:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},Z=g({__name:"DropdownMenuRadioItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(u,{emit:t}){const n=u,l=t,s=D(()=>{const{class:r,...d}=n;return d}),c=G(s,l);return(r,d)=>(i(),p(e(ke),N(e(c),{class:e(P)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n.class)}),{default:a(()=>[h("span",dt,[o(e(be),null,{default:a(()=>[o(e(tt),{class:"h-2 w-2 fill-current"})]),_:1})]),S(r.$slots,"default")]),_:3},16,["class"]))}}),me=g({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(u){const t=u,n=D(()=>{const{class:l,...s}=t;return s});return(l,s)=>(i(),p(e(we),N(n.value,{class:e(P)("-mx-1 my-1 h-px bg-muted",t.class)}),null,16,["class"]))}}),ut=g({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(u){const t=u,n=D(()=>{const{class:s,...c}=t;return c}),l=ee(n);return(s,c)=>(i(),p(e(xe),N(e(l),{class:e(P)("px-2 py-1.5 text-sm font-semibold",s.inset&&"pl-8",t.class)}),{default:a(()=>[S(s.$slots,"default")]),_:3},16,["class"]))}}),pt=g({__name:"DropdownMenuSub",props:{defaultOpen:{type:Boolean},open:{type:Boolean}},emits:["update:open"],setup(u,{emit:t}){const s=G(u,t);return(c,r)=>(i(),p(e(Me),W(J(e(s))),{default:a(()=>[S(c.$slots,"default")]),_:3},16))}}),mt=g({__name:"DropdownMenuSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(u){const t=u,n=D(()=>{const{class:s,...c}=t;return c}),l=ee(n);return(s,c)=>(i(),p(e($e),N(e(l),{class:e(P)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t.class)}),{default:a(()=>[S(s.$slots,"default"),o(e(ne),{class:"ml-auto h-4 w-4"})]),_:3},16,["class"]))}}),_t=g({__name:"DropdownMenuSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(u,{emit:t}){const n=u,l=t,s=D(()=>{const{class:r,...d}=n;return d}),c=G(s,l);return(r,d)=>(i(),p(e(Ce),N(e(c),{class:e(P)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n.class)}),{default:a(()=>[S(r.$slots,"default")]),_:3},16,["class"]))}}),ft=()=>E("color-mode").value,ht=g({__name:"ColorModeToggleIcon.client",setup(u){const{value:t}=ft();return(n,l)=>(i(),p(Q(e(t)==="light"?e(pe):e(ue)),{class:"size-4"}))}}),yt=g({__name:"ColorModeToggleRadioGroup",setup(u){const t=[{value:"system",label:"System",icon:ot},{value:"light",label:"Light",icon:pe},{value:"dark",label:"Dark",icon:ue}];return(n,l)=>{const s=Z,c=Y;return i(),p(c,{modelValue:n.$colorMode.preference,"onUpdate:modelValue":l[0]||(l[0]=r=>n.$colorMode.preference=r)},{default:a(()=>[(i(),$(z,null,O(t,r=>o(s,{key:r.value,value:r.value,"data-test":`color-mode-toggle-item-${r.value}`},{default:a(()=>[(i(),p(Q(r.icon),{class:"mr-2 size-4 opacity-50"})),x(" "+y(r.label),1)]),_:2},1032,["value","data-test"])),64))]),_:1},8,["modelValue"])}}}),gt=g({__name:"LocaleSwitchRadioGroup",setup(u){const{locales:t,locale:n,setLocale:l}=De(),s=D({get:()=>n.value,set:c=>l(c)});return(c,r)=>{const d=Z,f=Y;return i(),p(f,{modelValue:e(s),"onUpdate:modelValue":r[0]||(r[0]=_=>te(s)?s.value=_:null)},{default:a(()=>[(i(!0),$(z,null,O(e(t),_=>(i(),p(d,{key:_.code,value:_.code},{default:a(()=>[x(y(_.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])}}}),vt=g({__name:"SaasCreateTeamForm",props:{defaultName:{}},emits:["success"],setup(u,{emit:t}){const{apiCaller:n}=ie(),{t:l}=X(),{toast:s}=oe(),{reloadUser:c}=U(),r=t,d=u,f=Ae(Ge({name:Oe().min(3).max(32)})),{handleSubmit:_,isSubmitting:k}=Se({validationSchema:f,initialValues:{name:d.defaultName}}),M=_(async w=>{try{const m=await n.team.create.mutate({name:w.name});s({title:l("createTeam.notifications.success")}),await c(),r("success",m)}catch{s({title:l("createTeam.notifications.error"),variant:"error"})}});return(w,m)=>{const T=Ee,j=We,L=Ie,F=Ke,H=qe,R=Te,B=Be;return i(),$("form",{onSubmit:m[0]||(m[0]=(...V)=>e(M)&&e(M)(...V))},[o(R,{name:"name"},{default:a(({componentField:V})=>[o(H,null,{default:a(()=>[o(T,{for:"name",required:""},{default:a(()=>[x(y(w.$t("createTeam.name")),1)]),_:1}),o(L,null,{default:a(()=>[o(j,N(V,{autocomplete:"company"}),null,16)]),_:2},1024),o(F)]),_:2},1024)]),_:1}),o(B,{class:"mt-4 w-full",type:"submit",loading:e(k)},{default:a(()=>[x(y(w.$t("createTeam.submit")),1)]),_:1},8,["loading"])],32)}}}),_e=()=>{const u=E("dashboardState.sidebarExpanded",()=>!1),t=E("dashboardState.createTeamDialogOpen",()=>!1);return{sidebarExpanded:u,createTeamDialogOpen:t}},kt=g({__name:"SaasCreateTeamDialog",emits:["success"],setup(u,{emit:t}){const{createTeamDialogOpen:n}=_e(),l=t,s=async c=>{l("success",c),n.value=!1};return(c,r)=>{const d=Fe,f=He,_=je,k=vt,M=Ue,w=Le;return i(),p(w,{open:e(n),"onUpdate:open":r[1]||(r[1]=m=>n.value=m)},{default:a(()=>[o(M,null,{default:a(()=>[o(d,{class:"sr-only"},{default:a(()=>[x(y(c.$t("createTeam.title")),1)]),_:1}),o(_,null,{default:a(()=>[o(f,null,{default:a(()=>[x(y(c.$t("createTeam.title")),1)]),_:1})]),_:1}),o(k,{onSuccess:r[0]||(r[0]=m=>s(m.id))})]),_:1})]),_:1},8,["open"])}}}),bt=()=>{const u=de();return{switchTeam:n=>{u.value=n}}},wt={class:"flex items-center justify-start gap-2 text-sm text-foreground"},xt={class:"hidden lg:block"},Mt={class:"block flex-1 truncate text-foreground"},$t={class:"flex flex-1 items-center justify-start gap-2 text-foreground"},Ct={class:"leading-tight"},Dt={key:0,class:"text-xs text-muted-foreground"},St=g({__name:"SaasTeamSelect",setup(u){const{teamMemberships:t,currentTeam:n}=U(),{switchTeam:l}=bt(),{createTeamDialogOpen:s}=_e(),c=Ve(),r=D({get:()=>{var d;return(d=n.value)==null?void 0:d.id},set:async d=>{d&&(l(d),await A(c.public.auth.redirectPath))}});return(d,f)=>{var R;const _=Pe,k=se,M=Z,w=Y,m=me,T=ce,j=it,L=re,F=le,H=kt;return i(),$(z,null,[e(n)?(i(),p(F,{key:0},{default:a(()=>[o(k,{class:"focus-visible:border-primary focus-visible:ring-ring -ml-2 flex w-full items-center justify-between rounded-md p-2 text-left outline-none focus-visible:ring-1"},{default:a(()=>[h("div",wt,[h("span",xt,[o(_,{class:"size-8",name:e(n).name,"avatar-url":e(n).avatarUrl},null,8,["name","avatar-url"])]),h("span",Mt,y(e(n).name),1),o(e(et),{class:"block size-4 opacity-60 text-foreground"})])]),_:1}),o(L,{class:"w-full bg-background text-foreground"},{default:a(()=>{var B,V;return[o(w,{modelValue:e(r),"onUpdate:modelValue":f[0]||(f[0]=b=>te(r)?r.value=b:null)},{default:a(()=>[(i(!0),$(z,null,O(e(t),b=>(i(),p(M,{key:b.team.id,value:b.team.id},{default:a(()=>[h("div",$t,[o(_,{class:"size-6",name:b.team.name,"avatar-url":b.team.avatarUrl},null,8,["name","avatar-url"]),h("div",null,[h("div",Ct,y(b.team.name),1),b.team.division?(i(),$("div",Dt," Div "+y(b.team.division.level)+" Â· "+y(b.team.region),1)):C("",!0)])])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),(((B=e(t))==null?void 0:B.length)??0)===0?(i(),p(m,{key:0})):C("",!0),(((V=e(t))==null?void 0:V.length)??0)===0?(i(),p(j,{key:1},{default:a(()=>[o(T,{onClick:f[1]||(f[1]=()=>s.value=!0)},{default:a(()=>[o(e(nt),{class:"mr-2 size-4"}),x(" "+y(d.$t("dashboard.sidebar.createTeam")),1)]),_:1})]),_:1})):C("",!0)]}),_:1})]),_:1})):C("",!0),(((R=e(t))==null?void 0:R.length)??0)===0?(i(),p(H,{key:1,onSuccess:f[2]||(f[2]=B=>e(l)(B))})):C("",!0)],64)}}}),Tt=Qe(ht),Bt={class:"rounded-full outline-none focus-visible:ring-2 focus-visible:ring-primary"},Vt={class:"block text-xs font-normal opacity-70"};const zt=g({__name:"UserMenu",setup(u){const{user:t,logout:n}=U(),{t:l}=X(),{toast:s,dismiss:c}=oe(),{apiCaller:r}=ie(),d=r.admin.unimpersonate.useMutation(),f=async()=>{const{id:_}=s({variant:"loading",title:l("admin.users.impersonation.unimpersonating")});await d.mutate(),c(_),window.location.reload()};return(_,k)=>{const M=Je,w=se,m=ut,T=me,j=Tt,L=mt,F=yt,H=_t,R=ze,B=pt,V=gt,b=ae,I=ce,fe=re,he=le;return e(t)?(i(),p(he,{key:0},{default:a(()=>[o(w,{asChild:""},{default:a(()=>[h("button",Bt,[o(M,{name:e(t).name??"",avatarUrl:e(t).avatarUrl},null,8,["name","avatarUrl"])])]),_:1}),o(fe,{align:"end"},{default:a(()=>[o(m,null,{default:a(()=>[x(y(e(t).name)+" ",1),h("span",Vt,y(e(t).email),1)]),_:1}),o(T),C("",!0),o(T),C("",!0),o(T),o(I,{asChild:""},{default:a(()=>[o(b,{to:"/app/team"},{default:a(()=>[o(e(K),{class:"mr-2 size-4"}),k[1]||(k[1]=x(" Team "))]),_:1,__:[1]})]),_:1}),o(I,{asChild:""},{default:a(()=>[o(b,{to:"/app/settings/account/general"},{default:a(()=>[o(e(K),{class:"mr-2 size-4"}),x(" "+y(_.$t("dashboard.userMenu.accountSettings")),1)]),_:1})]),_:1}),e(t).impersonatedBy?(i(),p(I,{key:2,onClick:k[0]||(k[0]=At=>f())},{default:a(()=>[o(e(ct),{class:"mr-2 size-4"}),x(" "+y(_.$t("dashboard.userMenu.unimpersonate")),1)]),_:1})):C("",!0),o(I,{onClick:e(n)},{default:a(()=>[o(e(at),{class:"mr-2 size-4"}),x(" "+y(_.$t("dashboard.userMenu.logout")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})):C("",!0)}}}),Nt={class:"w-full border-b"},Rt={class:"container py-6 pt-[26px]"},Pt={class:"flex flex-wrap items-center justify-between gap-4"},Ut={class:"flex flex-nowrap items-center gap-4"},jt={class:"hidden opacity-30 md:block"},Lt={class:"ml-auto mr-0 flex items-center justify-end gap-4"},Ft={class:"no-scrollbar -mx-8 -mb-4 mt-6 flex list-none items-center justify-start gap-6 overflow-x-auto px-8 text-sm lg:text-base"},Ht=g({__name:"SaasNavBar",setup(u){const t=Ne(),{t:n}=X(),{user:l}=U(),s=D(()=>{var d;return((d=l.value)==null?void 0:d.role)==="ADMIN"}),c=D(()=>[{label:"Team",icon:lt,to:"/app/team"},{label:"Leaderboard",icon:st,to:"/league/leaderboard"},{label:"Schedule",icon:Ze,to:"/league/schedule"},{label:"Rules",icon:Ye,to:"/rules"},{label:"Settings",icon:K,to:"/app/settings"},...s.value?[{label:"Admin",icon:rt,to:"/app/admin"}]:[]]),r=d=>{if(!d)return!1;const f=t.path;return f===d||f.startsWith(d+"/")};return(d,f)=>{const _=ye,k=ae,M=St,w=zt;return i(),$("nav",Nt,[h("div",Rt,[h("div",Pt,[h("div",Ut,[o(k,{to:"/",class:"block shrink-0"},{default:a(()=>[o(_)]),_:1}),h("span",jt,[o(e(ne),{class:"size-4"})]),o(M)]),h("div",Lt,[o(w)])]),h("ul",Ft,[(i(!0),$(z,null,O(e(c),m=>(i(),$("li",{key:m.to},[o(k,{to:m.to,class:q(["flex items-center gap-2 border-b-2 px-1 pb-3 text-sm text-foreground/80",r(m.to)?"border-primary font-bold text-primary":"border-transparent"])},{default:a(()=>[(i(),p(Q(m.icon),{class:q(["size-4 shrink-0",r(m.to)?"text-primary":""])},null,8,["class"])),h("span",{class:q(r(m.to)?"text-primary":"")},y(m.label),3)]),_:2},1032,["to","class"])]))),128))])])])}}}),It={class:"min-h-screen overflow-y-auto bg-background text-foreground"},mo=g({__name:"app",setup(u){const{user:t,reloadUser:n}=U(),l=de();return Re(async()=>{if(t.value||await n(),!t.value){await A("/auth/login");return}if(!t.value.onboardingComplete){await A("/onboarding");return}const s=t.value.teamMemberships??[],c=s.find(r=>r.team.id===l.value)??s[0];if(!c){await A("/");return}l.value=c.team.id}),(s,c)=>{const r=Ht,d=Xe;return i(),$(z,null,[o(r),h("main",It,[S(s.$slots,"default")]),o(d)],64)}}});export{mo as default};
