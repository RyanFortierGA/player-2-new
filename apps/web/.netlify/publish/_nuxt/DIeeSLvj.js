import{_ as I,a as H,b as P,c as W,d as M}from"./DMYLyJLv.js";import{c as O,a as Z,_ as K,b as j}from"./B3HjOky3.js";import{_ as G,a as J}from"./1RP2yTVK.js";import{d as Q,v as X,af as Y,N as k,M as h,c as A,a as n,i as b,n as R,e as a,w as t,K as $,u as r,o as u,f as l,F as E,x as N,t as f,g as ee}from"./Di62MCsn.js";import{_ as te}from"./B9v-Ef3g.js";import{u as ae}from"./DJFGLJu-.js";const le={class:"container mx-auto px-6 pb-12"},oe={class:"flex flex-wrap items-end gap-4 mb-4 text-foreground"},fe=Q({__name:"leaderboard",setup(ne){const p=X(),C=Y(),d=k(p.query.region||"US_EAST"),i=k(String(p.query.level||"1")),_=k(String(p.query.teamSize||"4"));h([d,i,_],()=>{C.replace({query:{region:d.value,level:String(i.value),teamSize:String(_.value)}}),L()});const{data:F,pending:y,error:T,refresh:L}=ae("leaderboard",async()=>{const V=new URLSearchParams({region:d.value,level:String(i.value),teamSize:String(_.value)});return await $fetch(`/api/league/standings?${V.toString()}`)});return(V,e)=>{const v=P,x=H,s=M,S=W,c=I,m=J,w=Z,B=G,D=ee,g=j,q=K,z=O,U=te;return u(),A("div",null,[e[22]||(e[22]=n("section",{class:"bg-gradient-to-b from-background to-transparent pb-4 pt-24"},[n("div",{class:"container mx-auto px-6"},[n("h1",{class:"text-3xl font-bold tracking-tight"},"Leaderboard"),n("p",{class:"text-muted-foreground mt-2"},"See rankings by region and division.")])],-1)),n("div",le,[n("div",oe,[n("div",null,[e[10]||(e[10]=n("label",{class:"block text-xs text-muted-foreground mb-1"},"Region",-1)),a(c,{modelValue:r(d),"onUpdate:modelValue":e[0]||(e[0]=o=>$(d)?d.value=o:null)},{default:t(()=>[a(x,{class:"w-56 bg-background text-foreground"},{default:t(()=>[a(v,{placeholder:"Region"})]),_:1}),a(S,{class:"bg-background text-foreground border border-border"},{default:t(()=>[a(s,{value:"US_EAST"},{default:t(()=>e[3]||(e[3]=[l("US East")])),_:1,__:[3]}),a(s,{value:"US_WEST"},{default:t(()=>e[4]||(e[4]=[l("US West")])),_:1,__:[4]}),a(s,{value:"EUROPE"},{default:t(()=>e[5]||(e[5]=[l("Europe")])),_:1,__:[5]}),a(s,{value:"ASIA"},{default:t(()=>e[6]||(e[6]=[l("Asia")])),_:1,__:[6]}),a(s,{value:"AU_NZ"},{default:t(()=>e[7]||(e[7]=[l("Australia / New Zealand")])),_:1,__:[7]}),a(s,{value:"SOUTH_AMERICA"},{default:t(()=>e[8]||(e[8]=[l("South America")])),_:1,__:[8]}),a(s,{value:"AFRICA"},{default:t(()=>e[9]||(e[9]=[l("Africa")])),_:1,__:[9]})]),_:1})]),_:1},8,["modelValue"])]),n("div",null,[e[11]||(e[11]=n("label",{class:"block text-xs text-muted-foreground mb-1"},"Division",-1)),a(c,{modelValue:r(i),"onUpdate:modelValue":e[1]||(e[1]=o=>$(i)?i.value=o:null)},{default:t(()=>[a(x,{class:"w-32 bg-background text-foreground"},{default:t(()=>[a(v,{placeholder:"Division"})]),_:1}),a(S,{class:"bg-background text-foreground border border-border"},{default:t(()=>[(u(),A(E,null,N(6,o=>a(s,{key:o,value:String(o)},{default:t(()=>[l("Div "+f(o),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),n("div",null,[e[14]||(e[14]=n("label",{class:"block text-xs text-muted-foreground mb-1"},"Format",-1)),a(c,{modelValue:r(_),"onUpdate:modelValue":e[2]||(e[2]=o=>$(_)?_.value=o:null)},{default:t(()=>[a(x,{class:"w-32 bg-background text-foreground"},{default:t(()=>[a(v,{placeholder:"Format"})]),_:1}),a(S,{class:"bg-background text-foreground border border-border"},{default:t(()=>[a(s,{value:"4"},{default:t(()=>e[12]||(e[12]=[l("4v4")])),_:1,__:[12]}),a(s,{value:"2"},{default:t(()=>e[13]||(e[13]=[l("2v2")])),_:1,__:[13]})]),_:1})]),_:1},8,["modelValue"])])]),!r(y)&&!r(T)?(u(),b(z,{key:0},{default:t(()=>[a(B,null,{default:t(()=>[a(w,null,{default:t(()=>[a(m,null,{default:t(()=>e[15]||(e[15]=[l("Team")])),_:1,__:[15]}),a(m,{class:"text-right"},{default:t(()=>e[16]||(e[16]=[l("Pts")])),_:1,__:[16]}),a(m,{class:"text-right"},{default:t(()=>e[17]||(e[17]=[l("W")])),_:1,__:[17]}),a(m,{class:"text-right"},{default:t(()=>e[18]||(e[18]=[l("L")])),_:1,__:[18]}),a(m,{class:"text-right"},{default:t(()=>e[19]||(e[19]=[l("T")])),_:1,__:[19]})]),_:1})]),_:1}),a(q,null,{default:t(()=>[(u(!0),A(E,null,N(r(F)||[],o=>(u(),b(w,{key:o.id,class:"odd:bg-background even:bg-muted/50"},{default:t(()=>[a(g,null,{default:t(()=>[a(D,{class:"hover:underline",to:`/teams/${o.id}`},{default:t(()=>[l(f(o.name),1)]),_:2},1032,["to"])]),_:2},1024),a(g,{class:"text-right"},{default:t(()=>[l(f(o.points),1)]),_:2},1024),a(g,{class:"text-right"},{default:t(()=>[l(f(o.wins),1)]),_:2},1024),a(g,{class:"text-right"},{default:t(()=>[l(f(o.losses),1)]),_:2},1024),a(g,{class:"text-right"},{default:t(()=>[l(f(o.ties),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):R("",!0),r(y)?(u(),b(U,{key:1},{default:t(()=>e[20]||(e[20]=[l("Loading...")])),_:1,__:[20]})):r(T)?(u(),b(U,{key:2,variant:"destructive"},{default:t(()=>e[21]||(e[21]=[l("Failed to load standings")])),_:1,__:[21]})):R("",!0)])])}}});export{fe as default};
