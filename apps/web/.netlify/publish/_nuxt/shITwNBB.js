import{_ as $}from"./BUkg2l21.js";import{j as _,at as i,au as g,av as F,M as w,aw as C,h as L,c as R,o as x,a as T,e as B,d as S,v as U,z as M,A as P,i as V}from"./Di62MCsn.js";import{h as f}from"./CXFSimRl.js";import{u as W}from"./DJFGLJu-.js";function z(s,t,c){const[e={},o]=typeof t=="string"?[{},t]:[t,c],a=_(()=>i(s)),n=_(()=>i(e.key)||"$f"+f([o,typeof a.value=="string"?a.value:"",...I(e)]));if(!e.baseURL&&typeof a.value=="string"&&a.value[0]==="/"&&a.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:u,lazy:m,default:j,transform:A,pick:D,watch:h,immediate:y,getCachedData:O,deep:k,dedupe:q,...E}=e,d=g({...F,...E,cache:typeof e.cache=="boolean"?void 0:e.cache}),b={server:u,lazy:m,default:j,transform:A,pick:D,immediate:y,getCachedData:O,deep:k,dedupe:q,watch:h===!1?[]:[...h||[],d]};if(!y){let l=function(){b.immediate=!0};w(n,l,{flush:"sync",once:!0}),w([...h||[],d],l,{flush:"sync",once:!0})}let r;return W(h===!1?n.value:n,()=>{var v;(v=r==null?void 0:r.abort)==null||v.call(r,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),r=typeof AbortController<"u"?new AbortController:{};const l=i(e.timeout);let p;return l&&(p=setTimeout(()=>r.abort(new DOMException("Request aborted due to timeout.","AbortError")),l),r.signal.onabort=()=>clearTimeout(p)),(e.$fetch||globalThis.$fetch)(a.value,{signal:r.signal,...d}).finally(()=>{clearTimeout(p)})},b)}function I(s){var c;const t=[((c=i(s.method))==null?void 0:c.toUpperCase())||"GET",i(s.baseURL)];for(const e of[s.params||s.query]){const o=i(e);if(!o)continue;const a={};for(const[n,u]of Object.entries(o))a[i(n)]=i(u);t.push(a)}if(s.body){const e=i(s.body);if(!e)t.push(f(e));else if(e instanceof ArrayBuffer)t.push(f(Object.fromEntries([...new Uint8Array(e).entries()].map(([o,a])=>[o,a.toString()]))));else if(e instanceof FormData){const o={};for(const a of e.entries()){const[n,u]=a;o[n]=u instanceof File?u.name:u}t.push(f(o))}else if(C(e))t.push(f(g(e)));else try{t.push(f(e))}catch{console.warn("[useFetch] Failed to hash body",e)}}return t}const N={},G={class:"flex min-h-screen w-full items-center justify-center bg-muted"},K={class:"animate-pulse"};function H(s,t){const c=$;return x(),R("div",G,[T("div",K,[B(c)])])}const J=L(N,[["render",H]]),ae=S({__name:"invitation",async setup(s){let t,c;const e=U(),{data:o}=([t,c]=M(()=>z("/api/team/invitation",{query:{code:e.query.code}},"$hclWSa1W-j")),t=await t,c(),t),a=_(()=>{var n;return((n=o.value)==null?void 0:n.redirectPath)??"/"});return P(a.value),(n,u)=>{const m=J;return x(),V(m)}}});export{ae as default};
